<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<div class='overflow-x-auto'>
<table class="min-w-full divide-y divide-gray-200 table-fixed">
  <thead class="bg-gray-50">
    <tr>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4">Name</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rating</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pace</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Shooting</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Passing</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dribbling</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Defending</th>
      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Physicality</th>
    </tr>
  </thead>
  <tbody class="bg-white divide-y divide-gray-200">
  <% if players.any? %>
  <% players.each do |player| %>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
        <div class="flex items-center">
          <%= link_to player['name'], player_path(player['id']) %>
          <% if squad_builder && position && squad_id %>
            <%= button_to squad_squad_players_path(
                  squad_id: squad_id,
                  position: position,
                  player_id: player['id']
                ), method: :post, class: 'inline-block text-blue-500 hover:underline ml-2', title: 'Add to Squad' do %>
              <span class="material-icons">add</span>
            <% end %>
          <% end %>
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['position'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['rating'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['pace'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['shooting'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['passing'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['dribbling'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['defending'] %></td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= player['physicality'] %></td>
    </tr>
  <% end %>
  <% else %>
    <tr>
      <td colspan="8" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">No players found</td>
    </tr>
  <% end %>
  </tbody>
</table>
</div>

<%# Pagination %>
<div class="text-gray-300 flex items-center justify-center my-4">
  <%= will_paginate @pagination, renderer: WillPaginate::ActionView::LinkRenderer, previous_label: 'Previous', next_label: 'Next', inner_window: 2, outer_window: 0, link_options: { class: 'px-4 py-2 mx-1 border border-indigo-500 rounded-md text-indigo-500 hover:bg-indigo-500 hover:text-white' } %>
</div>